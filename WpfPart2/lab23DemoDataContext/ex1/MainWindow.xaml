<Window x:Class="ex1.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ex1"
        mc:Ignorable="d"
        Title="Demo DataContext" Height="720" Width="800">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <GroupBox Header="1. Привязка данных для автоматического обновления интерфейса" Margin="5" >
            <StackPanel Margin="10">
                <!-- Привязки автоматически используют DataContext окна -->
                <Label Content="Имя:" FontWeight="Bold"/>
                <TextBox x:Name="tbFName" Text="{Binding Name, UpdateSourceTrigger=PropertyChanged}" Margin="0,5,0,10"/>

                <Label Content="Возраст:" FontWeight="Bold"/>
                <TextBox x:Name="tbAge" Text="{Binding Age}" Margin="0,5,0,10"/>

                <StackPanel Orientation="Horizontal">
                    <Button Content="Показать данные" Margin="0,0,10,0" Width="120" Click="ShowDataButton_Click"/>
                    <Button Content="Изменить данные" Width="120" Click="ChangeDataButton_Click" />
                </StackPanel>
            </StackPanel>
        </GroupBox>

        <GroupBox Header="2. Локализация и ресурсы" Grid.Row="1" Margin="5" >
            <StackPanel>
                <TextBlock Text="{Binding WelcomeMessage}" FontSize="16"/>
                <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                    <Button Content="{Binding SaveButton}" Margin="0,0,10,0" Width="80" Height="20" Click="Button_Click"/>
                    <Button Content="{Binding CancelButton}" Width="80" Click="Button_Click_1"/>
                </StackPanel>
            </StackPanel>
        </GroupBox>

        <GroupBox Header="3. Работа с коллекциями" Grid.Row="2" Margin="5" >
            <StackPanel>
                <ListBox ItemsSource="{Binding Items}" Height="150"/>
                <Button Content="Добавить элемент" Margin="0,10,0,0" Click="AddItemButton_Click"/>
            </StackPanel>
        </GroupBox>

        <GroupBox Header="4. Иерархические DataContext" Grid.Row="3" Margin="5" >
            <StackPanel>
                <!-- Эта панель использует UserInfo как DataContext -->
                <StackPanel x:Name="userPanel" Background="LightBlue" Margin="10" >
                    <TextBlock Text="Информация о пользователе:" FontWeight="Bold"/>
                    <TextBlock Text="{Binding Name}"/>
                    <TextBlock Text="{Binding Email}"/>
                </StackPanel>

                <!-- Эта панель использует AppSettings как DataContext -->
                <StackPanel x:Name="settingsPanel" Background="LightGreen" Margin="10" >
                    <TextBlock Text="Настройки приложения:" FontWeight="Bold"/>
                    <TextBlock Text="{Binding Theme}"/>
                    <TextBlock Text="{Binding Language}"/>
                </StackPanel>
            </StackPanel>
        </GroupBox>

        <GroupBox Header="5. Упрощение работы с элементами управления" Grid.Row="4" Margin="5" >
            <Button x:Name="anyButton" Content="{Binding ButtonText}" IsEnabled="{Binding IsEnabled}" ToolTip="{Binding ToolTipText}" Click="AnyButton_Click"/>
        </GroupBox>

    </Grid>
</Window>
