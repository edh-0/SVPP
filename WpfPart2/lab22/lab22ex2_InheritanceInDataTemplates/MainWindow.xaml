<Window x:Class="lab22ex2_InheritanceInDataTemplates.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:lab22ex2_InheritanceInDataTemplates"
        mc:Ignorable="d"
        Title="2 Наследование в шаблонах данных" Height="500" Width="800">
    <Window.Resources>
        <!--Базовый шаблон для Vehicle-->
        <DataTemplate DataType="{x:Type local:Vehicle}">
            <Border Background="LightGray" BorderBrush="Gray" BorderThickness="1" Padding="10" Margin="5" CornerRadius="5">
                <StackPanel>
                    <TextBlock Text="{Binding Brand}" FontWeight="Bold" FontSize="14"/>
                    <TextBlock Text="{Binding Model}" FontSize="12"/>
                    <TextBlock Text="{Binding Year, StringFormat='Год: {0}'}" FontSize="11" Foreground="DarkGray"/>
                </StackPanel>
            </Border>
        </DataTemplate>

        <!--Специализированный шаблон для Car-->
        <DataTemplate DataType="{x:Type local:Car}">
            <Border Background="LightBlue" BorderBrush="Blue" BorderThickness="1" Padding="10" Margin="5" CornerRadius="5">
                <StackPanel>
                    <TextBlock Text="{Binding Brand}" FontWeight="Bold" FontSize="14"/>
                    <TextBlock Text="{Binding Model}" FontSize="12"/>
                    <TextBlock Text="{Binding Year, StringFormat='Год: {0}'}" FontSize="11" Foreground="DarkGray"/>
                    <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                        <TextBlock Text="{Binding Doors, StringFormat='Двери: {0}'}" FontSize="11" Margin="0,0,10,0"/>
                        <TextBlock Text="{Binding BodyType, StringFormat='Кузов: {0}'}" FontSize="11"/>
                    </StackPanel>
                </StackPanel>
            </Border>
        </DataTemplate>

        <!--Специализированный шаблон для Motorcycle-->
        <DataTemplate DataType="{x:Type local:Motorcycle}">
            <Border Background="LightGreen" BorderBrush="Green" BorderThickness="1" Padding="10" Margin="5" CornerRadius="5">
                <StackPanel>
                    <TextBlock Text="{Binding Brand}" FontWeight="Bold" FontSize="14"/>
                    <TextBlock Text="{Binding Model}" FontSize="12"/>
                    <TextBlock Text="{Binding Year, StringFormat='Год: {0}'}" FontSize="11" Foreground="DarkGray"/>
                    <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                        <TextBlock Text="{Binding Type, StringFormat='Тип: {0}'}" FontSize="11" Margin="0,0,10,0"/>
                        <TextBlock Text="{Binding HasFairing, StringFormat='Обтекатель: {0}'}" FontSize="11"/>
                    </StackPanel>
                </StackPanel>
            </Border>
        </DataTemplate>

        <!--Специализированный шаблон для Truck-->
        <DataTemplate DataType="{x:Type local:Truck}">
            <Border Background="LightSalmon" BorderBrush="Red" BorderThickness="1" Padding="10" Margin="5" CornerRadius="5">
                <StackPanel>
                    <TextBlock Text="{Binding Brand}" FontWeight="Bold" FontSize="14"/>
                    <TextBlock Text="{Binding Model}" FontSize="12"/>
                    <TextBlock Text="{Binding Year, StringFormat='Год: {0}'}" FontSize="11" Foreground="DarkGray"/>
                    <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                        <TextBlock Text="{Binding LoadCapacity, StringFormat='Грузоподъёмность: {0}т'}" FontSize="11" Margin="0,0,10,0"/>
                        <TextBlock Text="{Binding Axles, StringFormat='Оси: {0}'}" FontSize="11"/>
                    </StackPanel>
                </StackPanel>
            </Border>
        </DataTemplate>
    </Window.Resources>

    <Grid Margin="15">
        <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
        <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TextBlock Text="Транспортные средства (наследование в шаблонах)" FontSize="16" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,0,0,15"/>
        <!-- ListBox автоматически выберет правильный шаблон для каждого типа -->
        <ListBox x:Name="VehiclesList" Grid.Row="1" Background="White">
            <ListBox.ItemContainerStyle>
                <Style TargetType="ListBoxItem">
                    <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                </Style>
            </ListBox.ItemContainerStyle>
        </ListBox>

        <!-- Панель управления -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,15,0,0">
            <Button 	Content="Добавить автомобиль" 
Click="AddCar_Click" 
Margin="5" Padding="10,5"/>
            <Button 	Content="Добавить мотоцикл" 
Click="AddMotorcycle_Click" 
Margin="5" Padding="10,5"/>
            <Button 	Content="Добавить грузовик" 
Click="AddTruck_Click" 
Margin="5" Padding="10,5"/>
            <Button 	Content="Очистить список" 
Click="ClearList_Click" 
Margin="5" Padding="10,5"/>
        </StackPanel>

    </Grid>
</Window>
